import{_ as g,e as p,o as v,c as h,f as y,v as b,g as l,a as t,i as k,n as x,t as c,h as V,j as $,b as n,w as B,P as w,I as f,B as I,k as S,l as T}from"./index-652fbeed.js";const C={class:"custom_input"},E=["id"],N={class:"input_label"},q={__name:"Textarea",props:{placeholder:{type:String,required:!1,default:""},id:{type:String,required:!1}},setup(_){const m=_;let a=p("");return(s,o)=>(v(),h("label",C,[y(t("textarea",{"onUpdate:modelValue":o[0]||(o[0]=i=>k(a)?a.value=i:a=i),id:l(m).id,class:x({filled:l(a).length>0})},`\r
    `,10,E),[[b,l(a)]]),t("div",N,c(_.placeholder),1)]))}},D=g(q,[["__scopeId","data-v-7b86e66d"]]);const P={class:"container"},j={key:0,id:"form_error"},z={__name:"SupportView",setup(_){let m=V(),a=p(!1),s=p(""),o=p(),i=()=>{let e=document.getElementById("support_name"),r=document.getElementById("support_email"),u=document.getElementById("support_message");console.log(e.value,r.value,u.value),e.checkValidity()&&r.checkValidity()&&u.checkValidity()?T.post(`${m.domain}/api/v1/feedback`,{name:e.value,email:r.value,message:u.value}).then(d=>{d.data.success&&(alert("Сообщение отправлено"),e.value="",r.value="",u.value="")}).catch(d=>{console.log(d.data.errors.email[0]),a.value=!0,d.data.errors.email[0]?s.value="modal.error_email":s.value="modal.error"}):(a.value=!0,s.value="modal.error")};return $(a,e=>{e?o.value=setTimeout(()=>{a.value=!1},3e3):clearTimeout(o.value)}),(e,r)=>(v(),h("main",null,[t("div",P,[t("h1",null,c(e.$t("support.h1")),1),n(w,null,{content:B(()=>[t("h2",null,c(e.$t("support.h2_1")),1),t("form",null,[n(f,{placeholder:e.$t("support.placeholder_name"),id:"support_name"},null,8,["placeholder"]),n(f,{placeholder:"e-mail",type:"email",id:"support_email"}),n(D,{placeholder:e.$t("support.placeholder_msg"),id:"support_message"},null,8,["placeholder"]),n(I,{text:e.$t("main.send"),onClick:l(i)},null,8,["text","onClick"]),l(a)?(v(),h("div",j,c(e.$t(l(s))),1)):S("",!0)])]),_:1})])]))}},R=g(z,[["__scopeId","data-v-18b90cbb"]]);export{R as default};
